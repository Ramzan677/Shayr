<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Random Shayari ¬∑ Ramzan Ahsan</title>
  <style>
    /* ------- Dark minimal design ------- */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: radial-gradient(circle at 30% 20%, #1e2636, #0d0f17);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Inter', -apple-system, 'Segoe UI', 'Georgia', serif;
      padding: 1.5rem;
    }
    .container {
      max-width: 800px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.8rem;
    }
    .title-block { text-align: center; width: 100%; }
    .main-title {
      font-size: 2.2rem; font-weight: 500; letter-spacing: 2px;
      color: #fbebd0; text-shadow: 0 0 12px rgba(255, 200, 100, 0.3);
      margin-bottom: 0.4rem;
    }
    .subtitle {
      font-size: 1.1rem; color: #bcb7aa;
      border-bottom: 1px solid rgba(255, 200, 140, 0.2);
      display: inline-block; padding-bottom: 6px;
      font-style: italic; font-weight: 300;
    }
    .subtitle strong { color: #ffd98c; font-weight: 500; font-style: normal; }

    /* Shayari card ‚Äì only shayari text, no extra status */
    .shayari-card {
      width: 100%; background: rgba(18, 22, 35, 0.75);
      backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
      border: 1px solid rgba(255, 210, 130, 0.18);
      border-radius: 2.5rem; padding: 2.5rem 2.2rem;
      color: #ffefcf; font-size: 1.9rem; line-height: 1.65;
      text-align: center; word-break: break-word;
      box-shadow: 0 25px 40px -12px black, 0 0 0 1px rgba(255, 190, 80, 0.1) inset;
      font-weight: 400; transition: opacity 0.25s;
      font-family: 'Georgia', 'Times New Roman', 'Noto Serif', serif;
    }
    .shayari-card.loading { color: rgba(255, 235, 180, 0.7); font-size: 1.7rem; font-style: italic; }
    .shayari-card.error { color: #ffb9a4; font-size: 1.4rem; }

    .btn {
      background: rgba(250, 225, 170, 0.08);
      border: 1.2px solid rgba(255, 210, 110, 0.4); color: #ffeac1;
      padding: 0.9rem 2.6rem; font-size: 1.3rem; font-weight: 400;
      border-radius: 50px; cursor: pointer; backdrop-filter: blur(8px);
      transition: all 0.2s ease; letter-spacing: 1.5px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.4); font-family: inherit;
    }
    .btn:hover {
      background: rgba(255, 225, 140, 0.2);
      border-color: rgba(255, 200, 90, 0.9); color: #fff6e2;
      box-shadow: 0 10px 26px -6px rgba(255, 180, 50, 0.25);
      transform: scale(1.02);
    }
    .btn:active { transform: scale(0.98); }

    /* Footer ad ‚Äì WhatsApp group link */
    .footer-ad {
      margin-top: 0.5rem;
      width: 100%;
      text-align: center;
      font-size: 0.9rem;
      color: #b3aa99;
      border-top: 1px solid rgba(255, 200, 140, 0.15);
      padding-top: 1.2rem;
    }
    .footer-ad a {
      color: #ffd98c;
      text-decoration: none;
      font-weight: 500;
      letter-spacing: 0.5px;
      transition: color 0.2s;
    }
    .footer-ad a:hover {
      color: #ffe6b3;
      text-decoration: underline;
    }

    @media (max-width: 500px) {
      .main-title { font-size: 1.8rem; }
      .shayari-card { font-size: 1.5rem; padding: 1.8rem 1.2rem; }
      .btn { font-size: 1.1rem; padding: 0.7rem 1.8rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="title-block">
      <h1 class="main-title">‚ú® Random Shayari</h1>
      <div class="subtitle">developed by <strong>Ramzan Ahsan</strong></div>
    </div>

    <!-- Shayari display ‚Äì pure, no connection status -->
    <div id="shayariBox" class="shayari-card loading">Loading Shayari...</div>

    <!-- Fetch button -->
    <button id="randomBtn" class="btn">‚ú® Get New Shayari ‚ú®</button>

    <!-- Footer advertisement ‚Äì WhatsApp group link -->
    <div class="footer-ad">
      üì¢ Join our WhatsApp group: 
      <a href="https://chat.whatsapp.com/LoafyPWMGOv88oElxdwOB8" target="_blank" rel="noopener noreferrer">
        FREE ALL TRICKS
      </a>
    </div>
  </div>

  <script>
    (function() {
      const shayariEl = document.getElementById('shayariBox');
      const btn = document.getElementById('randomBtn');

      // ---------- THE REAL API (no CORS headers) ----------
      const ORIGINAL_API = 'https://fast-dev-apis.vercel.app/shayari';
      
      // ---------- SINGLE PROXY: CODETABS (hardcoded) ----------
      const PROXY_URL = 'https://api.codetabs.com/v1/proxy?quest=' + encodeURIComponent(ORIGINAL_API);

      // ---------- FETCH Shayari using CodeTabs proxy ----------
      async function fetchShayari() {
        shayariEl.textContent = 'Loading Shayari...';
        shayariEl.classList.add('loading');
        shayariEl.classList.remove('error');

        try {
          const controller = new AbortController();
          const timeoutId = setTimeout(() => controller.abort(), 8000);
          const response = await fetch(PROXY_URL, {
            signal: controller.signal,
            headers: { 'Accept': 'application/json' }
          });
          clearTimeout(timeoutId);

          if (!response.ok) {
            throw new Error(`HTTP ${response.status}`);
          }

          const text = await response.text();
          let data;
          try {
            data = JSON.parse(text);
          } catch (e) {
            throw new Error('Invalid JSON');
          }

          if (data && typeof data.shayari === 'string' && data.shayari.trim() !== '') {
            shayariEl.textContent = data.shayari;   // pure Shayari text
          } else {
            throw new Error('Missing shayari');
          }
        } catch (error) {
          shayariEl.classList.remove('loading');
          shayariEl.classList.add('error');
          
          if (error.name === 'AbortError') {
            shayariEl.textContent = '‚ùå Request timeout ‚Äî try again';
          } else {
            shayariEl.textContent = `‚ùå Failed: ${error.message}`;
          }
        } finally {
          shayariEl.classList.remove('loading');
        }
      }

      // Initial load
      fetchShayari();

      // Button click
      btn.addEventListener('click', fetchShayari);
    })();
  </script>
</body>
</html>
